version: '3.8'

services:
  telegram-bot:
    build: .
    container_name: promo-pro-bot
    restart: unless-stopped
    volumes:
      # Данные счетчиков и метрик
      - ./secrets/counters.json:/app/secrets/counters.json
      - ./secrets/metrics.json:/app/secrets/metrics.json
      # VK.ОРД данные
      - ./secrets/vk_ord_tokens.json:/app/secrets/vk_ord_tokens.json
      - ./secrets/vk_ord_state.json:/app/secrets/vk_ord_state.json
      # Секреты и пользовательские данные
      - ./secrets:/app/secrets
      # Сгенерированные документы
      - ./generated:/app/generated
      # Конфигурация
      - ./config.py:/app/config.py
    environment:
      - TZ=Europe/Moscow
    env_file:
      - .env

